<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
</head>
  <body ng-app="circledistributionApp">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!--[if lt IE 9]>
      <script src="bower_components/es5-shim/es5-shim.js"></script>
      <script src="bower_components/json3/lib/json3.min.js"></script>
    <![endif]-->

    <!-- Add your site or application content here -->
    <h1>Hello!</h1>
    <p>sit back and enjoy some random points inside a circle of radius: </p>
    <div class='content'>
        <!-- /the chart goes here -->
    </div>


    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
     <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-XXXXX-X');
       ga('send', 'pageview');
    </script>

    <script src="bower_components/jquery/jquery.js"></script>
    <script type="text/javascript" src="bower_components/d3/d3.js"></script>
  <script>
      $(document).ready( function(){

      var get_point = function(radius){
          r=radius*Math.sqrt(Math.random())
          theta=Math.PI*2*Math.random()
          return [r*Math.sin(theta),r*Math.cos(theta)]
      }

      var xdata=[];
      var ydata=[];

      for (i=0;i< 1000;i++){
          p=get_point(10)
          xdata.push(p[0])
          ydata.push(p[1])
      }

// size and margins for the chart
          var margin = {top: 20, right: 20, bottom: 20, left: 20}
                  , width = 400 - margin.left - margin.right
                  , height = 400 - margin.top - margin.bottom;

// x and y scales, I've used linear here but there are other options
// the scales translate data values to pixel values for you
          var x = d3.scale.linear()
                  .domain([d3.min(xdata), d3.max(xdata)])  // the range of the values to plot
                  .range([ 0, width ]);        // the pixel range of the x-axis

          var y = d3.scale.linear()
                  .domain([d3.min(ydata), d3.max(ydata)])
                  .range([ height, 0 ]);

// the chart object, includes all margins
          var chart = d3.select('body')
                  .append('svg:svg')
                  .attr('width', width + margin.right + margin.left)
                  .attr('height', height + margin.top + margin.bottom)
                  .attr('class', 'chart')

// the main object where the chart and axis will be drawn
          var main = chart.append('g')
                  .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')
                  .attr('width', width)
                  .attr('height', height)
                  .attr('class', 'main')

// draw the x axis
          var xAxis = d3.svg.axis()
                  .scale(x)
                  .orient('bottom');

          main.append('g')
                  .attr('transform', 'translate(0,' + height + ')')
                  .attr('class', 'main axis date')
                  .call(xAxis);

// draw the y axis
          var yAxis = d3.svg.axis()
                  .scale(y)
                  .orient('left');

          main.append('g')
                  .attr('transform', 'translate(0,0)')
                  .attr('class', 'main axis date')
                  .call(yAxis);

// draw the graph object
          var g = main.append("svg:g");

          g.selectAll("scatter-dots")
                  .data(ydata)  // using the values in the ydata array
                  .enter().append("svg:circle")  // create a new circle for each value
                  .attr("cy", function (d) { return y(d); } ) // translate y value to a pixel
                  .attr("cx", function (d,i) { return x(xdata[i]); } ) // translate x value
                  .attr("r", 2) // radius of circle
                  .style("opacity", 0.6); // opacity of circle


      })
  </script>
</body>
</html>
